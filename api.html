<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weather Arkansas API</title>
<style>
body {
    font-family: "Lato", sans-serif;
    background: #87CEEB;
    color: #006666;
    padding: 20px;
}
h1 { text-align:center; }
pre { background:#e0ffff; padding:15px; border-radius:6px; overflow-x:auto; }
code { background:#f0f0f0; padding:2px 4px; border-radius:4px; }
</style>
</head>
<body>
<h1>Weather Arkansas API</h1>

<p>Welcome! This page provides live weather data from NOAA. Developers can use it for their own projects.</p>

<h2>Latest Weather Data</h2>
<pre id="api-output">Loading...</pre>

<h2>Instructions for Developers</h2>
<p>To access the data programmatically:</p>
<pre>
fetch('https://weather-arkansas.github.io/api.html')
  .then(res => res.text())
  .then(html => {
      // Extract the weatherData variable from the page
      const dataMatch = html.match(/const weatherData = (\[.*\]);/s);
      if(dataMatch){
          const weatherData = JSON.parse(dataMatch[1]);
          console.log(weatherData);
      }
  });
</pre>

<h2>Data Structure</h2>
<p>Each record has:</p>
<ul>
  <li><strong>id</strong> - Unique record ID</li>
  <li><strong>location</strong> - Forecast period (Today, Tonight, etc.)</li>
  <li><strong>temperature</strong> - Temperature in Â°F</li>
  <li><strong>forecast</strong> - Short description</li>
  <li><strong>timestamp</strong> - Date/time of forecast start</li>
</ul>

<script>
// Initialize weatherData
let weatherData = [];

// Fetch NOAA forecast
async function fetchNOAA() {
    try {
        const response = await fetch('https://api.weather.gov/gridpoints/LZK/36,91/forecast');
        const data = await response.json();

        weatherData = data.properties.periods.slice(0, 7).map((period, i) => ({
            id: i + 1,
            location: period.name,
            temperature: period.temperature,
            forecast: period.shortForecast,
            timestamp: period.startTime
        }));

        // Display on page
        document.getElementById('api-output').textContent = JSON.stringify(weatherData, null, 2);

    } catch (err) {
        document.getElementById('api-output').textContent = "Error loading data: " + err;
    }
}

// Load on page load
fetchNOAA();
</script>
</body>
</html>
