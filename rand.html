<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ML5.js Self-Learning AI</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
<script src="https://unpkg.com/ml5@2.3.0/dist/ml5.min.js"></script>
<style>
  body { font-family: Arial; display:flex; justify-content:center; align-items:center; height:100vh; background:#f0f0f0; flex-direction:column; }
  #output { width: 80%; max-width: 600px; height: 300px; overflow-y:auto; border:1px solid #ccc; padding:10px; background:#fff; margin-bottom:10px; }
  input, button { padding:10px; margin:5px; border-radius:5px; border:1px solid #ccc; }
  button { cursor:pointer; background:#28a745; color:white; border:none; }
</style>
</head>
<body>

<div id="output">AI Output Will Appear Here...</div>
<input type="text" id="userInput" placeholder="Type a prompt..." />
<button onclick="generateText()">Generate</button>

<script>
let charRNN;
let isModelReady = false;

// Small dictionary/text corpus to start
const corpus = `
apple banana cherry date elderberry fig grape honeydew
igloo jaguar kite lemon mango nut orange papaya quince
`;

function setup() {
  noCanvas();
  // Initialize character RNN
  charRNN = ml5.charRNN('https://raw.githubusercontent.com/ml5js/ml5-data-and-models/main/models/charRNN/english/', modelReady);
}

function modelReady() {
  isModelReady = true;
  document.getElementById('output').innerText = "AI Model Loaded. Type a prompt and click Generate!";
}

// Generate text from user input
function generateText() {
  if(!isModelReady) return;
  
  let seed = document.getElementById('userInput').value.trim();
  if(seed === "") seed = "a"; // default seed

  const data = {
    seed: seed,
    temperature: 0.5,
    length: 100
  };

  charRNN.generate(data, (err, result) => {
    if(err) {
      console.error(err);
      return;
    }
    document.getElementById('output').innerText = result.sample;
  });
}
</script>

</body>
</html>
